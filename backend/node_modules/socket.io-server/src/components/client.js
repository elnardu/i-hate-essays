module.exports = class Client
{
    constructor(app, socket)
    {
        this.app    = app;
        this.socket = socket;
        
        this.registerCommands();
    }
    
    registerCommands()
    {
        let commands = this.app.opts.commands || [];
    
        commands.forEach((commandDefinition) => {
            let command = new commandDefinition(this.app, this);
            
            this.socket.on(
                command.name,
                command.execute.bind(command)
            );
        });
    }
};